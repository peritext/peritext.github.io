{"contents":{"entityMap":{"0":{"type":"INLINE_ASSET","mutability":"IMMUTABLE","data":{"insertionType":"INLINE_ASSET","asset":{"id":"523d28bc-6a53-40df-bae0-00523e653a54"}}},"1":{"type":"BLOCK_ASSET","mutability":"IMMUTABLE","data":{"insertionType":"BLOCK_ASSET","asset":{"id":"522dbee5-1430-4c60-9405-803a6c04a75e"}}},"2":{"type":"NOTE_POINTER","mutability":"IMMUTABLE","data":{"noteId":"81cd3a8f-dc58-43ab-b17d-dd861c5b5da2"}},"3":{"type":"BLOCK_ASSET","mutability":"IMMUTABLE","data":{"insertionType":"BLOCK_ASSET","asset":{"id":"82c8a7e5-8073-4c40-a93b-bcf9c0b3610f"}}},"4":{"type":"BLOCK_ASSET","mutability":"IMMUTABLE","data":{"insertionType":"BLOCK_ASSET","asset":{"id":"810f6207-1baf-4252-aba0-69ae186f9fc0"}}},"5":{"type":"BLOCK_ASSET","mutability":"IMMUTABLE","data":{"insertionType":"BLOCK_ASSET","asset":{"id":"511e240b-290d-4611-b5b7-8a7b920dbf1f"}}},"6":{"type":"BLOCK_ASSET","mutability":"IMMUTABLE","data":{"insertionType":"BLOCK_ASSET","asset":{"id":"f9c453ad-5436-442b-88e0-1dc5510e73f8"}}},"7":{"type":"INLINE_ASSET","mutability":"IMMUTABLE","data":{"insertionType":"INLINE_ASSET","asset":{"id":"5ffe00e2-845b-448e-9e43-67fa9857499a"}}},"8":{"type":"INLINE_ASSET","mutability":"IMMUTABLE","data":{"insertionType":"INLINE_ASSET","asset":{"id":"e08e72f9-2839-4995-9bee-b2da76eb698d"}}}},"blocks":[{"key":"3nra3","text":"Vega (et son petit frère allégé vega lite) est une grammaire de description de visualisations de données interactives et statiques. Il est développé par l'équipe Interactive Data Lab au sein de l'Université de Washington   . ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[{"offset":221,"length":1,"key":0}],"data":{}},{"key":"6ahvr","text":"Le contextualiseur vegalite permet de contextualiser une ressource de type table sous la forme d'une visualisation de données paramétrée selon la grammaire vegalite.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"g069","text":"Utiliser le contextualiseur vega","type":"header-one","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2bcg4","text":"Soit la ressource suivante :","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1culj","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"e4mvo","text":" ","type":"atomic","depth":0,"inlineStyleRanges":[],"entityRanges":[{"offset":0,"length":1,"key":1}],"data":{}},{"key":"7vnaf","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5hh1t","text":"Elle est par défaut affichée via le contextualiseur table. La voici désormais affichée avec le contextualiseur vega    :","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[{"offset":115,"length":1,"key":2}],"data":{}},{"key":"31dpi","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3pl48","text":" ","type":"atomic","depth":0,"inlineStyleRanges":[],"entityRanges":[{"offset":0,"length":1,"key":3}],"data":{}},{"key":"7e2vd","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5uk9u","text":"Par défaut, le contextualiseur cherche un état minimal pour afficher la table sous la forme d'une visualisation, pas très intéressant donc.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6q40u","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6c63q","text":"Ajoutons-lui maintenant le paramètre de spécification suivant :","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"34rij","text":"{\n  \"mark\": \"bar\",\n  \"encoding\": {\n    \"x\": {\"field\": \"a\", \"type\": \"ordinal\"},\n    \"y\": {\"field\": \"b\", \"type\": \"quantitative\"}\n  }\n}","type":"code-block","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3ebnr","text":"On obtient :","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f1eb1","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"curve","text":" ","type":"atomic","depth":0,"inlineStyleRanges":[],"entityRanges":[{"offset":0,"length":1,"key":4}],"data":{}},{"key":"8s5b4","text":"","type":"atomic","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4f7rg","text":"Visualisations interactives","type":"header-one","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"837o8","text":"Outre la réalisation de visualisations simples, vega-lite permet aussi de décrire des interactions et des visualisations composées, plus complexes.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dkr85","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dd4or","text":"Soit le dataset suivant :","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"e7sef","text":" ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9pusb","text":" ","type":"atomic","depth":0,"inlineStyleRanges":[],"entityRanges":[{"offset":0,"length":1,"key":5}],"data":{}},{"key":"bglid","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4u7hp","text":"Et la spécification suivante :","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fdg30","text":"{\n \"$schema\": \"https://vega.github.io/schema/vega-lite/v2.json\",\n \"vconcat\": [{\n \"width\": 480,\n \"mark\": \"area\",\n \"encoding\": {\n \"x\": {\n \"field\": \"date\",\n \"type\": \"temporal\",\n \"scale\": {\"domain\": {\"selection\": \"brush\"}},\n \"axis\": {\"title\": \"\", \"labelAngle\": 0}\n      },\n \"y\": {\"field\": \"price\",\"type\": \"quantitative\"}\n    }\n  }, {\n \"width\": 480,\n \"height\": 60,\n \"mark\": \"area\",\n \"selection\": {\n \"brush\": {\"type\": \"interval\", \"encodings\": [\"x\"]}\n    },\n \"encoding\": {\n \"x\": {\n \"field\": \"date\",\n \"type\": \"temporal\",\n \"axis\": {\"format\": \"%Y\", \"labelAngle\": 0}\n      },\n \"y\": {\n \"field\": \"price\",\n \"type\": \"quantitative\",\n \"axis\": {\"tickCount\": 3, \"grid\": false}\n      }\n    }\n  }]\n}\n","type":"code-block","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"el448","text":"On obtient la visualisation suivante, permettant de sélectionner dans la visualisation du dessous une plage temporelle à visualiser dans le graphique du dessus :","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"echb0","text":" ","type":"atomic","depth":0,"inlineStyleRanges":[],"entityRanges":[{"offset":0,"length":1,"key":6}],"data":{}},{"key":"3l3jl","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8stda","text":"Apprendre à utiliser la grammaire vegalite","type":"header-one","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9uveu","text":"Les possibilités offertent par vega sont très importantes et couvrent une grande partie des besoins courants en termes de visualisation de données. La documentation proposée sur le site de vega permet de s'en faire une première idée    .","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[{"offset":233,"length":1,"key":7}],"data":{}},{"key":"39gdv","text":"Pour prévisualiser et tester une spécification vegalite avant de l'intégrer dans un contextualiseur, rendez-vous sur l'outil de développement proposé par ses créateurs    .","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[{"offset":168,"length":1,"key":8}],"data":{}}]},"notes":{"81cd3a8f-dc58-43ab-b17d-dd861c5b5da2":{"id":"81cd3a8f-dc58-43ab-b17d-dd861c5b5da2","editorState":{"entityMap":{},"blocks":[{"key":"bdjot","text":"Il est à noter que le module vega rend du svg. Pour une raison inconnue à ce jour cela dit, le module ne fonctionne pas en environnements serveurs ; pour palier à ce problème technique il est pour l'instant possible d'associer une vignette à chaque visualisation afin qu'elle soit utilisée comme image à la place du svg qui devrait normalement s'afficher.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}}]},"order":1}},"notesOrder":["81cd3a8f-dc58-43ab-b17d-dd861c5b5da2"],"metadata":{"title":"Contextualiseur vegalite","subtitle":"","description":"","authors":[],"level":1,"type":"chapter"},"id":"6452556b-679d-43bf-9afc-4402c90c8b96"}